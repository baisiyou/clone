{"ast":null,"code":"var _jsxFileName = \"/Users/zrb/Documents/sound clone/client/src/components/ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport './ChatInterface.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\nfunction ChatInterface({\n  voiceId,\n  disabled\n}) {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [inputText, setInputText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [conversationHistory, setConversationHistory] = useState([]);\n  const messagesEndRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleSendMessage = async () => {\n    if (!inputText.trim() || loading || disabled) return;\n    const userMessage = inputText.trim();\n    setInputText('');\n    setLoading(true);\n\n    // Add user message to UI\n    const newUserMessage = {\n      role: 'user',\n      content: userMessage\n    };\n    setMessages(prev => [...prev, newUserMessage]);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/chat/voice-chat`, {\n        message: userMessage,\n        voiceId: voiceId,\n        conversationHistory: conversationHistory\n      });\n\n      // Add assistant response to UI\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.data.text,\n        audio: response.data.audio\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n      setConversationHistory(response.data.conversationHistory || []);\n\n      // Play audio response\n      if (response.data.audio) {\n        playAudio(response.data.audio);\n      }\n    } catch (error) {\n      console.error('Chat error:', error);\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: 'Sorry, an error occurred. Please check your API configuration.',\n        error: true\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const playAudio = audioBase64 => {\n    try {\n      const audio = new Audio(`data:audio/mpeg;base64,${audioBase64}`);\n      audio.play().catch(err => console.error('Audio play error:', err));\n    } catch (error) {\n      console.error('Error playing audio:', error);\n    }\n  };\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = async () => {\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: 'audio/webm'\n        });\n        // Here you could convert speech to text using Web Speech API or a service\n        // For now, we'll just show a message\n        setInputText('(Voice recorded, please type your message manually)');\n      };\n      mediaRecorder.start();\n      setIsRecording(true);\n    } catch (error) {\n      console.error('Error starting recording:', error);\n      alert('Cannot access microphone. Please check permissions.');\n    }\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      mediaRecorderRef.current.stream.getTracks().forEach(track => track.stop());\n      setIsRecording(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-interface\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCAC AI Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), disabled && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"warning\",\n        children: \"Please clone a voice first to enable chat functionality\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Start a conversation! After you send a message, the AI will respond with the cloned voice.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message ${msg.role}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: [msg.content, msg.audio && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"play-audio-btn\",\n            onClick: () => playAudio(msg.audio),\n            title: \"Play Audio\",\n            children: \"\\uD83D\\uDD0A Play\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message assistant\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-dots\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-input-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"chat-input\",\n          value: inputText,\n          onChange: e => setInputText(e.target.value),\n          onKeyPress: handleKeyPress,\n          placeholder: disabled ? \"Please clone a voice first...\" : \"Type your message...\",\n          disabled: disabled || loading,\n          rows: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `record-button ${isRecording ? 'recording' : ''}`,\n            onClick: isRecording ? stopRecording : startRecording,\n            disabled: disabled || loading,\n            title: isRecording ? \"Stop Recording\" : \"Voice Input\",\n            children: isRecording ? '‚èπÔ∏è' : 'üé§'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"send-button\",\n            onClick: handleSendMessage,\n            disabled: !inputText.trim() || loading || disabled,\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatInterface, \"18AQHuNrUGIjeDE/PvmP4rD1KQw=\");\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","API_BASE_URL","process","env","REACT_APP_API_URL","ChatInterface","voiceId","disabled","_s","messages","setMessages","inputText","setInputText","loading","setLoading","isRecording","setIsRecording","conversationHistory","setConversationHistory","messagesEndRef","mediaRecorderRef","audioChunksRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","newUserMessage","role","content","prev","response","post","message","assistantMessage","data","text","audio","playAudio","error","console","audioBase64","Audio","play","catch","err","startRecording","stream","navigator","mediaDevices","getUserMedia","mediaRecorder","MediaRecorder","ondataavailable","event","size","push","onstop","audioBlob","Blob","type","start","alert","stopRecording","stop","getTracks","forEach","track","handleKeyPress","e","key","shiftKey","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","msg","idx","onClick","title","ref","value","onChange","target","onKeyPress","placeholder","rows","_c","$RefreshReg$"],"sources":["/Users/zrb/Documents/sound clone/client/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport './ChatInterface.css';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n\nfunction ChatInterface({ voiceId, disabled }) {\n  const [messages, setMessages] = useState([]);\n  const [inputText, setInputText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [conversationHistory, setConversationHistory] = useState([]);\n  const messagesEndRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = async () => {\n    if (!inputText.trim() || loading || disabled) return;\n\n    const userMessage = inputText.trim();\n    setInputText('');\n    setLoading(true);\n\n    // Add user message to UI\n    const newUserMessage = { role: 'user', content: userMessage };\n    setMessages(prev => [...prev, newUserMessage]);\n\n    try {\n      const response = await axios.post(`${API_BASE_URL}/chat/voice-chat`, {\n        message: userMessage,\n        voiceId: voiceId,\n        conversationHistory: conversationHistory\n      });\n\n      // Add assistant response to UI\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.data.text,\n        audio: response.data.audio\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n      setConversationHistory(response.data.conversationHistory || []);\n\n      // Play audio response\n      if (response.data.audio) {\n        playAudio(response.data.audio);\n      }\n    } catch (error) {\n      console.error('Chat error:', error);\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: 'Sorry, an error occurred. Please check your API configuration.',\n        error: true\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const playAudio = (audioBase64) => {\n    try {\n      const audio = new Audio(`data:audio/mpeg;base64,${audioBase64}`);\n      audio.play().catch(err => console.error('Audio play error:', err));\n    } catch (error) {\n      console.error('Error playing audio:', error);\n    }\n  };\n\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = async () => {\n        const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\n        // Here you could convert speech to text using Web Speech API or a service\n        // For now, we'll just show a message\n        setInputText('(Voice recorded, please type your message manually)');\n      };\n\n      mediaRecorder.start();\n      setIsRecording(true);\n    } catch (error) {\n      console.error('Error starting recording:', error);\n      alert('Cannot access microphone. Please check permissions.');\n    }\n  };\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      mediaRecorderRef.current.stream.getTracks().forEach(track => track.stop());\n      setIsRecording(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  return (\n    <div className=\"chat-interface\">\n      <div className=\"chat-header\">\n        <h2>üí¨ AI Chat</h2>\n        {disabled && (\n          <p className=\"warning\">Please clone a voice first to enable chat functionality</p>\n        )}\n      </div>\n\n      <div className=\"chat-messages\">\n        {messages.length === 0 && (\n          <div className=\"empty-state\">\n            <p>Start a conversation! After you send a message, the AI will respond with the cloned voice.</p>\n          </div>\n        )}\n        {messages.map((msg, idx) => (\n          <div key={idx} className={`message ${msg.role}`}>\n            <div className=\"message-content\">\n              {msg.content}\n              {msg.audio && (\n                <button\n                  className=\"play-audio-btn\"\n                  onClick={() => playAudio(msg.audio)}\n                  title=\"Play Audio\"\n                >\n                  üîä Play\n                </button>\n              )}\n            </div>\n          </div>\n        ))}\n        {loading && (\n          <div className=\"message assistant\">\n            <div className=\"message-content\">\n              <div className=\"loading-dots\">\n                <span></span>\n                <span></span>\n                <span></span>\n              </div>\n            </div>\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <div className=\"chat-input-container\">\n        <div className=\"chat-input-wrapper\">\n          <textarea\n            className=\"chat-input\"\n            value={inputText}\n            onChange={(e) => setInputText(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder={disabled ? \"Please clone a voice first...\" : \"Type your message...\"}\n            disabled={disabled || loading}\n            rows={3}\n          />\n          <div className=\"chat-actions\">\n            <button\n              className={`record-button ${isRecording ? 'recording' : ''}`}\n              onClick={isRecording ? stopRecording : startRecording}\n              disabled={disabled || loading}\n              title={isRecording ? \"Stop Recording\" : \"Voice Input\"}\n            >\n              {isRecording ? '‚èπÔ∏è' : 'üé§'}\n            </button>\n            <button\n              className=\"send-button\"\n              onClick={handleSendMessage}\n              disabled={!inputText.trim() || loading || disabled}\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ChatInterface;\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7B,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAEjF,SAASC,aAAaA,CAAC;EAAEC,OAAO;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC5C,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACoB,WAAW,EAAEC,cAAc,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACsB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAClE,MAAMwB,cAAc,GAAGvB,MAAM,CAAC,IAAI,CAAC;EACnC,MAAMwB,gBAAgB,GAAGxB,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMyB,cAAc,GAAGzB,MAAM,CAAC,EAAE,CAAC;EAEjC,MAAM0B,cAAc,GAAGA,CAAA,KAAM;IAAA,IAAAC,qBAAA;IAC3B,CAAAA,qBAAA,GAAAJ,cAAc,CAACK,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC;EAED7B,SAAS,CAAC,MAAM;IACdyB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACb,QAAQ,CAAC,CAAC;EAEd,MAAMkB,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI,CAAChB,SAAS,CAACiB,IAAI,CAAC,CAAC,IAAIf,OAAO,IAAIN,QAAQ,EAAE;IAE9C,MAAMsB,WAAW,GAAGlB,SAAS,CAACiB,IAAI,CAAC,CAAC;IACpChB,YAAY,CAAC,EAAE,CAAC;IAChBE,UAAU,CAAC,IAAI,CAAC;;IAEhB;IACA,MAAMgB,cAAc,GAAG;MAAEC,IAAI,EAAE,MAAM;MAAEC,OAAO,EAAEH;IAAY,CAAC;IAC7DnB,WAAW,CAACuB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEH,cAAc,CAAC,CAAC;IAE9C,IAAI;MACF,MAAMI,QAAQ,GAAG,MAAMpC,KAAK,CAACqC,IAAI,CAAC,GAAGlC,YAAY,kBAAkB,EAAE;QACnEmC,OAAO,EAAEP,WAAW;QACpBvB,OAAO,EAAEA,OAAO;QAChBW,mBAAmB,EAAEA;MACvB,CAAC,CAAC;;MAEF;MACA,MAAMoB,gBAAgB,GAAG;QACvBN,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAEE,QAAQ,CAACI,IAAI,CAACC,IAAI;QAC3BC,KAAK,EAAEN,QAAQ,CAACI,IAAI,CAACE;MACvB,CAAC;MACD9B,WAAW,CAACuB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEI,gBAAgB,CAAC,CAAC;MAChDnB,sBAAsB,CAACgB,QAAQ,CAACI,IAAI,CAACrB,mBAAmB,IAAI,EAAE,CAAC;;MAE/D;MACA,IAAIiB,QAAQ,CAACI,IAAI,CAACE,KAAK,EAAE;QACvBC,SAAS,CAACP,QAAQ,CAACI,IAAI,CAACE,KAAK,CAAC;MAChC;IACF,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;MACnChC,WAAW,CAACuB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;QAC5BF,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,gEAAgE;QACzEU,KAAK,EAAE;MACT,CAAC,CAAC,CAAC;IACL,CAAC,SAAS;MACR5B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM2B,SAAS,GAAIG,WAAW,IAAK;IACjC,IAAI;MACF,MAAMJ,KAAK,GAAG,IAAIK,KAAK,CAAC,0BAA0BD,WAAW,EAAE,CAAC;MAChEJ,KAAK,CAACM,IAAI,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAIL,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEM,GAAG,CAAC,CAAC;IACpE,CAAC,CAAC,OAAON,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C;EACF,CAAC;EAED,MAAMO,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QAAEb,KAAK,EAAE;MAAK,CAAC,CAAC;MACzE,MAAMc,aAAa,GAAG,IAAIC,aAAa,CAACL,MAAM,CAAC;MAC/C9B,gBAAgB,CAACI,OAAO,GAAG8B,aAAa;MACxCjC,cAAc,CAACG,OAAO,GAAG,EAAE;MAE3B8B,aAAa,CAACE,eAAe,GAAIC,KAAK,IAAK;QACzC,IAAIA,KAAK,CAACnB,IAAI,CAACoB,IAAI,GAAG,CAAC,EAAE;UACvBrC,cAAc,CAACG,OAAO,CAACmC,IAAI,CAACF,KAAK,CAACnB,IAAI,CAAC;QACzC;MACF,CAAC;MAEDgB,aAAa,CAACM,MAAM,GAAG,YAAY;QACjC,MAAMC,SAAS,GAAG,IAAIC,IAAI,CAACzC,cAAc,CAACG,OAAO,EAAE;UAAEuC,IAAI,EAAE;QAAa,CAAC,CAAC;QAC1E;QACA;QACAnD,YAAY,CAAC,qDAAqD,CAAC;MACrE,CAAC;MAED0C,aAAa,CAACU,KAAK,CAAC,CAAC;MACrBhD,cAAc,CAAC,IAAI,CAAC;IACtB,CAAC,CAAC,OAAO0B,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjDuB,KAAK,CAAC,qDAAqD,CAAC;IAC9D;EACF,CAAC;EAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAI9C,gBAAgB,CAACI,OAAO,IAAIT,WAAW,EAAE;MAC3CK,gBAAgB,CAACI,OAAO,CAAC2C,IAAI,CAAC,CAAC;MAC/B/C,gBAAgB,CAACI,OAAO,CAAC0B,MAAM,CAACkB,SAAS,CAAC,CAAC,CAACC,OAAO,CAACC,KAAK,IAAIA,KAAK,CAACH,IAAI,CAAC,CAAC,CAAC;MAC1EnD,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,MAAMuD,cAAc,GAAIC,CAAC,IAAK;IAC5B,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,IAAI,CAACD,CAAC,CAACE,QAAQ,EAAE;MACpCF,CAAC,CAACG,cAAc,CAAC,CAAC;MAClBhD,iBAAiB,CAAC,CAAC;IACrB;EACF,CAAC;EAED,oBACE3B,OAAA;IAAK4E,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC7B7E,OAAA;MAAK4E,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1B7E,OAAA;QAAA6E,QAAA,EAAI;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAClB1E,QAAQ,iBACPP,OAAA;QAAG4E,SAAS,EAAC,SAAS;QAAAC,QAAA,EAAC;MAAuD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAClF;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAENjF,OAAA;MAAK4E,SAAS,EAAC,eAAe;MAAAC,QAAA,GAC3BpE,QAAQ,CAACyE,MAAM,KAAK,CAAC,iBACpBlF,OAAA;QAAK4E,SAAS,EAAC,aAAa;QAAAC,QAAA,eAC1B7E,OAAA;UAAA6E,QAAA,EAAG;QAA0F;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9F,CACN,EACAxE,QAAQ,CAAC0E,GAAG,CAAC,CAACC,GAAG,EAAEC,GAAG,kBACrBrF,OAAA;QAAe4E,SAAS,EAAE,WAAWQ,GAAG,CAACrD,IAAI,EAAG;QAAA8C,QAAA,eAC9C7E,OAAA;UAAK4E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,GAC7BO,GAAG,CAACpD,OAAO,EACXoD,GAAG,CAAC5C,KAAK,iBACRxC,OAAA;YACE4E,SAAS,EAAC,gBAAgB;YAC1BU,OAAO,EAAEA,CAAA,KAAM7C,SAAS,CAAC2C,GAAG,CAAC5C,KAAK,CAAE;YACpC+C,KAAK,EAAC,YAAY;YAAAV,QAAA,EACnB;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CACT;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MAAC,GAZEI,GAAG;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAaR,CACN,CAAC,EACDpE,OAAO,iBACNb,OAAA;QAAK4E,SAAS,EAAC,mBAAmB;QAAAC,QAAA,eAChC7E,OAAA;UAAK4E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,eAC9B7E,OAAA;YAAK4E,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3B7E,OAAA;cAAA8E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbjF,OAAA;cAAA8E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbjF,OAAA;cAAA8E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eACDjF,OAAA;QAAKwF,GAAG,EAAErE;MAAe;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAENjF,OAAA;MAAK4E,SAAS,EAAC,sBAAsB;MAAAC,QAAA,eACnC7E,OAAA;QAAK4E,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBACjC7E,OAAA;UACE4E,SAAS,EAAC,YAAY;UACtBa,KAAK,EAAE9E,SAAU;UACjB+E,QAAQ,EAAGlB,CAAC,IAAK5D,YAAY,CAAC4D,CAAC,CAACmB,MAAM,CAACF,KAAK,CAAE;UAC9CG,UAAU,EAAErB,cAAe;UAC3BsB,WAAW,EAAEtF,QAAQ,GAAG,+BAA+B,GAAG,sBAAuB;UACjFA,QAAQ,EAAEA,QAAQ,IAAIM,OAAQ;UAC9BiF,IAAI,EAAE;QAAE;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACFjF,OAAA;UAAK4E,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B7E,OAAA;YACE4E,SAAS,EAAE,iBAAiB7D,WAAW,GAAG,WAAW,GAAG,EAAE,EAAG;YAC7DuE,OAAO,EAAEvE,WAAW,GAAGmD,aAAa,GAAGjB,cAAe;YACtD1C,QAAQ,EAAEA,QAAQ,IAAIM,OAAQ;YAC9B0E,KAAK,EAAExE,WAAW,GAAG,gBAAgB,GAAG,aAAc;YAAA8D,QAAA,EAErD9D,WAAW,GAAG,IAAI,GAAG;UAAI;YAAA+D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CAAC,eACTjF,OAAA;YACE4E,SAAS,EAAC,aAAa;YACvBU,OAAO,EAAE3D,iBAAkB;YAC3BpB,QAAQ,EAAE,CAACI,SAAS,CAACiB,IAAI,CAAC,CAAC,IAAIf,OAAO,IAAIN,QAAS;YAAAsE,QAAA,EACpD;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACzE,EAAA,CA9LQH,aAAa;AAAA0F,EAAA,GAAb1F,aAAa;AAgMtB,eAAeA,aAAa;AAAC,IAAA0F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}